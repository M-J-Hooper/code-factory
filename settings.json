{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "ENABLE_TOOL_SEARCH": "true",
    "CLAUDE_CODE_DISABLE_FEEDBACK_SURVEY": "1",
    "DISABLE_NON_ESSENTIAL_MODEL_CALLS": "1"
  },
  "autoUpdatesChannel": "stable",
  "attribution": {
    "commit": "",
    "pr": ""
  },
  "permissions": {
    "defaultMode": "bypassPermissions",
    "allow": [
      "Bash(grep:*)",
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(sort:*)",
      "Bash(tail:*)",
      "Bash(wc:*)",
      "Bash(stat:*)",
      "Bash(tree:*)",
      "Bash(find:*)",
      "Bash(echo:*)",
      "Bash(rg:*)",
      "Bash(awk:*)",
      "Bash(BZL_TEST_RESULTS_VIEWER_ENABLED=true bzl:*)",
      "Bash(bzl:*)",
      "Bash(bun:*)",
      "Bash(go:*)",
      "Bash(jq:*)",
      "Bash(yq:*)",
      "Bash(rapid:*)",
      "Bash(xargs:*)",
      "Bash(rapid-bin:*)",
      "Bash(ddtool:*)",
      "Bash(ddr:*)",
      "Bash(tar:*)",
      "Bash(if:*)",
      "Bash(for:*)",
      "Bash(while:*)",
      "Bash(do:*)",
      "Bash(then:*)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(sed:*)",
      "Bash(tee:*)",
      "Bash(test:*)",
      "Bash(date:*)",
      "Bash(mkdir:*)",
      "Bash(tr:*)",
      "Bash(which:*)",
      "Bash(file:*)",
      "Bash(diff:*)",
      "Bash(shellcheck:*)",
      "Bash(lsof:*)",
      "Bash(xxd:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git tag:*)",
      "Bash(git branch:*)",
      "Bash(git remote:*)",
      "Bash(git symbolic-ref:*)",
      "Bash(git merge-base:*)",
      "Bash(git rev-parse:*)",
      "Bash(gh auth:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr diff:*)",
      "Bash(gh api:*)",
      "Bash(git grep:*)",
      "Bash(git show:*)",
      "Bash(git ls-files:*)",
      "Bash(git stash list:*)",
      "Bash(git check-ignore:*)",
      "Bash(git show-ref:*)",
      "Bash(gh repo view:*)",
      "Bash(gh pr checks:*)",
      "WebSearch",
      "WebFetch",
      "MultiEdit",
      "Edit",
      "Glob",
      "Grep",
      "NotebookEdit",
      "Read",
      "SlashCommand",
      "Task",
      "TodoWrite",
      "Write",
      "Bash(paste:*)",
      "Bash(uniq:*)",
      "Bash(python -m pytest:*)",
      "mcp__github__get_pull_request",
      "mcp__atlassian__getJiraIssue",
      "mcp__atlassian__getConfluencePage",
      "mcp__atlassian__getConfluencePageDescendants",
      "mcp__atlassian__getConfluenceSpaces",
      "mcp__atlassian__getPagesInConfluenceSpace",
      "mcp__atlassian__atlassianUserInfo",
      "mcp__atlassian__getAccessibleAtlassianResources",
      "mcp__atlassian__search",
      "mcp__atlassian__searchConfluenceUsingCql",
      "mcp__atlassian__fetch",
      "mcp__atlassian__searchJiraIssuesUsingJql"
    ],
    "additionalDirectories": [
      "/Users/rodrigo.fernandes/go",
      "/Users/rodrigo.fernandes/dev",
      "/Users/rodrigo.fernandes/dd",
      "/Users/rodrigo.fernandes/Downloads",
      "~/dev",
      "~/dd",
      "~/go",
      "~/Downloads",
      "/tmp",
      "/private/var/tmp"
    ]
  },
  "model": "opus",
  "enabledMcpjsonServers": ["atlassian"],
  "disabledMcpjsonServers": ["datadog"],
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "agent",
            "prompt": "You are a session learning extractor. Your task: analyze the conversation that just completed and extract actionable knowledge for future sessions.\n\nIMPORTANT GUARDS:\n- If this is a stop-hook continuation (you can tell because context is minimal and focused on extraction), complete quickly and return.\n- Be FAST — you have 30 seconds. Extract only clear, high-signal learnings.\n- Do NOT restructure or reorganize any file. Only append new bullet points.\n\nSTEPS:\n1. Review the conversation for learning signals:\n   - User corrections: \"no\", \"wrong\", \"instead use\", \"actually\", \"don't\"\n   - Explicit conventions: \"always\", \"never\", \"make sure\", \"remember\"\n   - Repeated patterns (3+ occurrences)\n   - Gotchas and workarounds discovered\n   - New tool/command discoveries\n\n2. For each learning, score confidence (0.0-1.0):\n   - ≥0.8: Direct correction, explicit instruction, repeated pattern\n   - 0.5-0.79: Implicit preference, single occurrence\n   - <0.5: Discard silently\n\n3. Deduplicate: Use Grep to check if the learning already exists in the target file. Skip duplicates.\n\n4. For HIGH confidence (≥0.8) learnings:\n   - Determine target: AGENTS.md (repo conventions), CLAUDE.md (project rules), or ~/.claude/projects/*/memory/MEMORY.md (personal)\n   - Default to MEMORY.md when uncertain\n   - Use Edit to append a concise imperative bullet to the appropriate section\n   - Format: \"- [learning in imperative form]\"\n\n5. For MEDIUM confidence (0.5-0.79) learnings:\n   - Append to ~/.claude/projects/*/memory/pending-learnings.md in format:\n     ## Pending — [today's date]\n     - **Learning**: [text]\n     - **Confidence**: [score]\n     - **Target**: [file]\n     - **Evidence**: [brief quote]\n     ---\n\n6. Return { \"ok\": true } with a brief summary of actions taken.\n\nCONSTRAINTS:\n- Never delete or reorganize existing content\n- Each learning must be a single concise line (10-20 words)\n- Be specific: include commands, file paths, or patterns\n- Be conservative: when in doubt, queue for review instead of auto-applying\n- AGENTS.md changes must be high-confidence only (affects all contributors)\n- If no learnings found, return { \"ok\": true, \"reason\": \"No actionable learnings\" }",
            "model": "haiku",
            "timeout": 30
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "npx -y ccstatusline@latest",
    "padding": 0
  },
  "enabledPlugins": {
    "productivity@code-factory": true,
    "git@code-factory": true,
    "code@code-factory": true,
    "code-review@claude-plugins-official": true,
    "code-simplifier@claude-plugins-official": true,
    "superpowers@claude-plugins-official": true,
    "commit-commands@claude-plugins-official": true,
    "pr-review-toolkit@claude-plugins-official": true,
    "gopls-lsp@claude-plugins-official": true,
    "rust-analyzer-lsp@claude-plugins-official": true,
    "dual-agents-review@datadog-claude-plugins": true,
    "osx-notifications@datadog-claude-plugins": true,
    "skills@datadog-claude-plugins": true,
    "dd@datadog-claude-plugins": true,
    "writing@datadog-claude-plugins": true,
    "common-mistakes@mat-brown-contrib": true,
    "git-mergetool@mat-brown-contrib": true,
    "git-split-branch@mat-brown-contrib": true,
    "permissions@mat-brown-contrib": true,
    "pr-description@mat-brown-contrib": true
  },
  "extraKnownMarketplaces": {
    "claude-plugins-official": {
      "source": {
        "source": "github",
        "repo": "anthropics/claude-plugins-official"
      }
    },
    "datadog-claude-plugins": {
      "source": {
        "source": "github",
        "repo": "DataDog/claude-marketplace"
      }
    },
    "mat-brown-contrib": {
      "source": {
        "source": "github",
        "repo": "DataDog/mat-brown-claude-plugins"
      }
    },
    "code-factory": {
      "source": {
        "source": "github",
        "repo": "rtfpessoa/code-factory"
      }
    }
  },
  "alwaysThinkingEnabled": true
}
